{"version":3,"sources":["../../../src/utility/cache/config.js"],"names":["config","environment","process","env","isProd","NODE_ENV","retry_strategy","options","error","console","Error","host","REDISHOST","port","REDISPORT","password","REDISAUTH","undefined"],"mappings":";;;;;;;AAGA,SAASA,MAAT,GAAgE;AAAA,MAAhDC,WAAgD,uEAArBC,QAAQC,GAAa;;AAC9D,MAAMC,SAASH,YAAYI,QAAZ,KAAyB,YAAxC;;AAEA,SAAO;AACLC,kBADK,0BACUC,OADV,EACmB;AACtB,UAAIA,QAAQC,KAAZ,EAAmB;AACjBC,gBAAQD,KAAR,CAAc,kBAAd,EAAkCD,QAAQC,KAA1C;AACA,eAAO,IAAIE,KAAJ,CAAU,6CAAV,CAAP;AACD;AACF,KANI;;AAOLC,UAAMP,SAASH,YAAYW,SAArB,GAAiC,WAPlC;AAQLC,UAAMT,SAASH,YAAYa,SAArB,GAAiC,MARlC;AASLC,cAAUX,SAASH,YAAYe,SAArB,GAAiCC;AATtC,GAAP;AAWD;;kBAEcjB,M","file":"config.js","sourcesContent":["import type { Config } from './../../types/Redis.type';\r\nimport type { Environment } from './../../types/Environment.type';\r\n\r\nfunction config(environment: Environment = process.env): Config {\r\n  const isProd = environment.NODE_ENV === 'production';\r\n\r\n  return {\r\n    retry_strategy(options) {\r\n      if (options.error) {\r\n        console.error('CONNECTION ERROR', options.error);\r\n        return new Error('An error occured while connecting to Redis.');\r\n      }\r\n    },\r\n    host: isProd ? environment.REDISHOST : '127.0.0.1',\r\n    port: isProd ? environment.REDISPORT : '6379',\r\n    password: isProd ? environment.REDISAUTH : undefined,\r\n  };\r\n}\r\n\r\nexport default config;\r\n"]}